{% extends 'synaptogram/base.html' %}
{% block content %}


<script language="JavaScript">
    function toggle(source, checkboxes_name) {
        checkboxes = document.getElementsByName(checkboxes_name);
        for(var i=0, n=checkboxes.length;i<n;i++) {
            checkboxes[i].checked = source.checked;
        }
    }
</script>


<h2>Set the cutout range:</h2>

{% include 'synaptogram/coll_link.html' %}

<p><span class="bold">Experiment:</span>
<!-- https://api.boss.neurodata.io/v1/mgmt/resources/collman/collman14v2 -->
{{ exp }} (<a href="https://api.boss.neurodata.io/v1/mgmt/resources/{{coll}}/{{exp}}" target="blank">manage</a>)
</p>

<a href="{{ ndviz_url }}" target="_blank">NDViz</a> for all channels (all but the first 3 disabled)

{% include 'synaptogram/coord_frame_detail.html' %}

<p>
    Cutout parameters:
</p>
<form action="{% url 'synaptogram:cutout' coll exp %}" method="post">
    {% csrf_token %}
    <table>
        <tr>
            <div class="fieldWrapper">
                {{ form.x_min.errors }}
                <td>{{ form.x_min.label_tag }}

                </td>
    
                <td>{{ form.x_min }}</td>
            </div>
        </tr> 
        
        <tr>
            <div class="fieldWrapper">
                {{ form.x_max.errors }}
                <td>{{ form.x_max.label_tag }}</td>
                <td>{{ form.x_max }}</td>
            </div>
        </tr> 

        <tr>
            <div class="fieldWrapper">
                {{ form.y_min.errors }}
                <td>{{ form.y_min.label_tag }}</td>
                <td>{{ form.y_min }}</td>
            </div>
        </tr> 
        
        <tr>
            <div class="fieldWrapper">
                {{ form.y_max.errors }}
                <td>{{ form.y_max.label_tag }}</td>
                <td>{{ form.y_max }}</td>
            </div>
        </tr> 

        
        <tr>
            <div class="fieldWrapper">
                {{ form.z_min.errors }}
                <td>{{ form.z_min.label_tag }}</td>
                <td>{{ form.z_min }}</td>
            </div>
        </tr> 
        
        <tr>
            <div class="fieldWrapper">
                {{ form.z_max.errors }}
                <td>{{ form.z_max.label_tag }}</td>
                <td>{{ form.z_max }}</td>
            </div>
        </tr> 

        <tr>
            <div class="fieldWrapper">
                {{ form.channels.errors }}
                <td>{{ form.channels.label_tag }}</td>
                <td>
                    <label for="toggle_ch_checkbox">
                        <input type="checkbox" onClick="toggle(this, 'channels' )" 
                            id="toggle_ch_checkbox" checked/> 
                        Toggle channels
                    </label><br>
                    {{ form.channels }}
                </td>
            </div>
        </tr>

        <tr>
            <div class="fieldWrapper">
                {{ form.endpoint.errors }}
                <td>{{ form.endpoint.label_tag }}</td>
                <td>{{ form.endpoint }}</td>
            </div>
        </tr>
    </table>
    <input type="submit" value="Submit" />
</form>

‚Üê 
<a href="{% url 'synaptogram:exp_list' coll %}">
    Back
</a>

{% endblock %}